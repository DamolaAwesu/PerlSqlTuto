<html><head><title>Database</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="./style.css">

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.45,
  using Pod::Simple::PullParser v3.45,
  under Perl v5.014002 at Thu Oct 12 15:32:41 2023 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<h1><a class='u'
name="NAME"
>NAME</a></h1>

<p>Database - DB wrapper for SQLite3 in Perl</p>

<h1><a class='u'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  $dbh                 = connectDB($dataSource, $username, $password);

  $retVal              = createTable($dbh, $table, $tableSchema);
  $retVal              = insertInTable($dbh, $table, \%attr);
  ($retVal, $attrHash) = getSingleRecord($dbh, $table, $field, $searchToken);
  ($retVal, $sth)      = getAllRecords($dbh, $table, $searchToken);
  $retVal              = updateRecord($dbh, $table, $uname, \%attr);
  $retVal              = deleteRecord($dbh, $table, $uname, $searchToken);

  $retVal              = disconnectDB($dbHandle);</pre>

<p><i>This synopsis lists major methods and parameters.</i></p>

<h1><a class='u'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The Database package is a simple wrapper around the DBI module available on CPAN corresponding to needs in my OOP Perl project</p>

<h2><a class='u'
name="Conventions"
>Conventions</a></h2>

<pre>  $dbh          Database handle object

  $sth          Statement handle object

  $retVal       General return value

  $table        Database table name

  \%attr        Reference to a hash of attribute values passed to methods

  $searchToken  single attribute value</pre>

<h2><a class='u'
name="Usage"
>Usage</a></h2>

<p>To use Database,</p>

<p>first you need to load the Database package:</p>

<p><code>use Database</code>;</p>

<p><code>use strict;</code> is not required but is strongly recommended.</p>

<p>Then you need to <a href="#connect" class="podlinkpod"
>connect</a> to your data source and get a <i>handle</i> for the connection:</p>

<pre>  $dbh = Database::connect($datasource, $username, $password);</pre>

<p>Generally, you connect only once at program start and <a href="#disconnect" class="podlinkpod"
>disconnect</a> at the end</p>

<p>Once connected, the other methods provided by the Database package are ready to be used by the application</p>

<h2><a class='u'
name="Methods"
>Methods</a></h2>

<p>This section provides a description of all methods available for use</p>

<h3><a class='u'
name="connect"
><code>connect</code></a></h3>

<pre>  Parameters  : $datasource : path to database
                $user       : username
                $password   : user credential

  Return      : $dbh        : database handle

  Description : connect to database</pre>

<h3><a class='u'
name="createTable"
><code>createTable</code></a></h3>

<pre>  Parameters  : $dbh          : database handle
                $tableName    : name of table
                $tableSchema  : schema of table to be created

  Returns     : $retVal       : query status

  Description : creates a new table in the database, if it does not already exist, based on the provided schema</pre>

<h3><a class='u'
name="insertInTable"
><code>insertInTable</code></a></h3>

<pre>  Parameters      : $dbh        : database handle
                    $tableName  : name of table to insert into
                    \%attr      : hash containing data to be inserted

  Returns         : $err        : status of query

  Description     : insert record into table</pre>

<h3><a class='u'
name="getSingleRecord"
><code>getSingleRecord</code></a></h3>

<pre>  Parameters     :  $dbh          : database handle
                    $tableName    : name of table to read from
                    $field        : column to filter data
                    $searchToken  : value to match in filter

  Returns        :  $err          : status of query
                    $attrHash     : hash containing data in the filtered row

  Description    :  get all data in a single row from the specified table based on the provided filter</pre>

<h3><a class='u'
name="getAllRecords"
><code>getAllRecords</code></a></h3>

<pre>  Parameters     :  $dbh          : database handle
                    $tableName    : name of table to read from

  Returns        :  $err          : status of query
                    $attrHash     : hash containing all data in the specified table

  Description    :  get all data present in the specified table</pre>

<h3><a class='u'
name="updateRecord"
><code>updateRecord</code></a></h3>

<pre>  Parameters     :  $dbh          : database handle
                    $tableName    : name of table to read from
                    $uname        : column to filter data
                    $recordInfo   : values to update

  Returns        :  $err          : status of query

  Description    :  update select data in a record in specified table based on filter provided</pre>

<h3><a class='u'
name="deleteRecord"
><code>deleteRecord</code></a></h3>

<pre>  Parameters     :  $dbh          : database handle
                    $tableName    : name of table to read from
                    $field        : column to filter data
                    $value        : value to match in filter

  Returns        :  $err          : status of query

  Description    :  delete a single row from the specified table based on the provided filter</pre>

<h3><a class='u'
name="deleteRecord"
><code>deleteRecord</code></a></h3>

<pre>  Parameters     :  $dbh          : database handle
                    $tableName    : name of table to read from
                    $option       : &#34;D&#34; to delete entire table + schema, &#34;T&#34; to only delete records in the table

  Returns        :  $err          : status of query

  Description    :  delete a single row from the specified table based on the provided filter</pre>

<h3><a class='u'
name="disconnect"
><code>disconnect</code></a></h3>

<pre>  Parameters     :  $dbh  : database handle

  Returns        :  None

  Description    :  disconnect from database</pre>

<h1><a class='u'
name="SUPPORT"
>SUPPORT</a></h1>

<p>This module is managed in an open Github repository, <a href="https://github.com/DamolaAwesu/PerlSqlTuto/blob/main/Database.pm" class="podlinkurl"
>github.com/DamolaAwesu/PerlSqlTuto</a>.</p>

<h1><a class='u'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2023 Damola Awesu</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself</p>

<h1><a class='u'
name="AUTHOR(S)"
>AUTHOR(S)</a></h1>

<p>Database was created and is maintained by Damola Awesu, reachable at <b>dammyawesu@gmail.com</b></p>

<!-- end doc -->

</body></html>
